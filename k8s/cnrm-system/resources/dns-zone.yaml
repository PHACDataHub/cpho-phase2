apiVersion: dns.cnrm.cloud.google.com/v1beta1
kind: DNSManagedZone
metadata:
  name: cpho-managed-zone
  namespace: cnrm-system
spec:
  cloudLoggingConfig:
    enableLogging: true
  description: CPHO DNS Zone for alpha DNS
  dnsName: hopic-sdpac.phac-aspc.alpha.canada.ca.
  visibility: public
---
apiVersion: dns.cnrm.cloud.google.com/v1beta1
kind: DNSRecordSet
metadata:
  name: cpho-record-set
  namespace: cnrm-system
spec:
  name: "hopic-sdpac.phac-aspc.alpha.canada.ca."
  type: A
  ttl: 300
  managedZoneRef:
    name: cpho-managed-zone
  rrdatasRefs:
    - name: cpho-ip
      kind: ComputeAddress
---
apiVersion: compute.cnrm.cloud.google.com/v1beta1
kind: ComputeAddress
metadata:
  name: cpho-ip
  namespace: cnrm-system
spec:
  addressType: EXTERNAL
  description: CPHO external ip address
  location: northamerica-northeast1
---
