{% extends 'base.jinja2' %}

{% block content %}
  <div class="my-4">
    {% if respects_rule('can_create_indicator') %}
      <a href='{{ url("create_indicator") }}' class="btn btn-primary">{{ tdt("Create new indicator") }}</a>
    {% endif %}
    <a href='{{ url("upload_indicator") }}' class="btn btn-primary">{{ tdt("Upload Indicator") }}</a>
  </div>
  <div>
    <table class="table table-hover">
      <thead>
        <tr>
          <th>{{ tdt("Indicator Name") }}</th>
          <th>{{ tdt("Category") }}</th>
          <th>{{ tdt("Subcategory") }}</th>
          {# <th>{{ tdt('Detailed indicator') }}</th> #}
          {# <th>{{ tdt('Sub Indicator Mesaurement') }}</th> #}
          <th>{{ tdt("Actions") }}</th>
        </tr>
      </thead>
      <tbody>
        {% for indicator in object_list %}
          {% if respects_rule('can_view_indicator', indicator) %}
            <tr>
              <td>{{ indicator.name }}</td>
              <td>{{ indicator.get_category_display() }}</td>
              <td>{{ indicator.get_topic_display() }}</td>
              {# <td>{{ indicator.detailed_indicator }}</td> #}
              {# <td>{{ indicator.sub_indicator_measurement }}</td> #}
              <td>

                {% with loop_index=loop.index %}
                  {% include "indicators/_indicator_actions.jinja2" %}
                {% endwith %}
              </td>
            </tr>
          {% endif %}
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}
